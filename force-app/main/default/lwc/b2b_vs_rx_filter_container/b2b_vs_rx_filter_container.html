<!--BS-708: Filter Preference Settings Container Component-->
<template>
    <div if:false={doRender} class="filterWrap vsrxFilters">
        <!--Filter Header and Clear all Section-->
        <div class="slds-p-bottom_medium filtersHeader">
            <span>
                <p class="slds-truncate black-color text-small-strong filter-title arial-font">{labels.filterLabel}</p>
            </span>
            <span>
                <img class="filter-icon" src={_filterIcon} title={_filterExpandCollapseLabel} onclick={handleFilterCollapse} />
            </span>
        </div>

        <div if:true={_isSubcategoryPresent} class="categoryContainer">
            <c-b2b_vs_rx_category_details_component
                class="slds-border_top slds-p-bottom_small"
                display-data={categoryData}
                parent-category={parentCategory}
                page-source={currentPageSource}
                applicable-categories-data={applicableCategoriesData}
                frame-type-collection={frameTypeCollection}
                oncategoryupdate={handleCategoryExpandAndCollapse}
            >
            </c-b2b_vs_rx_category_details_component>
        </div>

        <!--Color Radio Button Facets Section -->
        <template if:true={_showColorRadioButton}>
            <lightning-accordion
                if:true={_showColorRadioButton}
                allow-multiple-sections-open
                name="colorradiobutton"
                active-section-name={activeColorLabel}
                onsectiontoggle={handleSectionToggle}
                class="slds-border_top"
            >
                <lightning-accordion-section name={colorLabel} label={colorLabel} title={colorLabel}>
                    <template for:each={_colorFilters} for:item="filter">
                        <div key={filter.availableFilters.Id}>
                            <!--Color radio button container Component-->
                            <div if:true={filter.availableFilters.isColorRadioButtonType}>
                                <c-b2b_vs_rx_color_radio_button_component
                                    filters={filter}
                                    onloading={handleLoadEvent}
                                    onfilterproductsearch={handleFilterProductSearch}
                                    onfilterselection={handleSelection}
                                >
                                </c-b2b_vs_rx_color_radio_button_component>
                            </div>
                        </div>
                    </template>
                </lightning-accordion-section>
            </lightning-accordion>
        </template>
        <!-- Start BS-841 -->
        <template if:true={_showRadioButton}>
            <lightning-accordion
                class="slds-border_top"
                allow-multiple-sections-open
                name="radiobutton"
                active-section-name={_showAllAccordionOpen}
                if:true={_filters}
            >
                <template for:each={_filters} for:item="filter">
                    <div key={filter.availableFilters.Id}>
                        <div if:true={filter.availableFilters.isRadioButtonType} key={filter.availableFilters.Id}>
                            <lightning-accordion-section
                                name={filter.availableFilters.sourceProductField}
                                label={filter.availableFilters.fieldName}
                                title={filter.availableFilters.fieldName}
                                class="slds-border_bottom"
                            >
                                <div class="slds-form-element__control">
                                    <div if:true={filter.availableFilters.isRadioButtonType}>
                                        <c-b2b_vs_rx_radio_button_component
                                            filters={filter}
                                            global-filters={_globalFilters}
                                            onloading={handleLoadEvent}
                                            onfilterproductsearch={handleFilterProductSearch}
                                            onfilterselection={handleSelection}
                                            update-filter={updateFilter}
                                        >
                                        </c-b2b_vs_rx_radio_button_component>
                                    </div>
                                </div>
                            </lightning-accordion-section>
                        </div>
                    </div>
                </template>
            </lightning-accordion>
        </template>
        <!-- End BS-841 -->

        <!--BS-708: Slider Reusable Component End-->

        <!-- Component Loading Section -->
        <lightning-spinner if:true={_isLoading} class="slds-is-fixed slds-align_absolute-center" variant="brand" size="medium"> </lightning-spinner>
    </div>

    <!--BS-708: Slider Reusable Component Start-->
    <template if:true={_filters}>
        <template for:each={_filters} for:item="sliderfilter">
            <div key={sliderfilter.availableFilters.Id} class="filterWrap vsrxFilters">
                <div if:true={sliderfilter.availableFilters.isSliderType}>
                    <div class="slds-form-element__control">
                        <div if:true={sliderfilter.availableFilters.isSliderType}>
                            <!--Slider Component-->
                            <c-b2b_vs_rx_slider_component
                                filters={sliderfilter}
                                all-filters={_showAllAccordionOpen}
                                field-name={sliderfilter.availableFilters.fieldName}
                                onsliderfilterselection={handleSelection}
                            >
                            </c-b2b_vs_rx_slider_component>
                        </div>
                    </div>
                </div>
            </div>
        </template>
    </template>

    <div if:true={isPLPPage} class="clearAllDivPLP">
        <a class="clearAllAnchor" href="" onclick={handleClearAll}><img class="refreshIconImg" src={_refreshIcon} /><span>{labels.clearAllLabel}</span></a>
    </div>
</template>
